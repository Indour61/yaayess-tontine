{% extends "base.html" %}
{% load static %}

{% block title %}Inscription et rejoindre le groupe - {{ group.nom }}{% endblock %}

{% block content %}
<div class="container">
    <h2>Rejoindre le groupe : {{ group.nom }}</h2>

    <div class="group-info">
        ðŸ”— Lien d'invitation : <br>
        <small>{{ request.build_absolute_uri }}</small><br>
        ðŸ“… CrÃ©Ã© le : {{ group.date_creation|date:"d/m/Y" }}<br>
        ðŸ’° Montant de base : {{ group.montant_base|floatformat:0 }} FCFA
    </div>

    <div class="messages">
        {% for message in messages %}
            <div class="{% if message.tags %}{{ message.tags }}{% endif %}">
                {{ message }}
            </div>
        {% endfor %}
    </div>

    <form method="POST">
        {% csrf_token %}
        <div class="form-group">
            <label for="nom">Nom complet</label>
            <input type="text" name="nom" id="nom" placeholder="Ex: Fatou Diop" value="{{ request.POST.nom }}">
        </div>

        <div class="form-group">
            <label for="phone">NumÃ©ro de tÃ©lÃ©phone</label>
            <input type="tel" name="phone" id="phone" placeholder="Ex: 77xxxxxxx" value="{{ request.POST.phone }}">
        </div>

        <div class="form-group">
            <label for="password">Mot de passe</label>
            <input type="password" name="password" id="password" placeholder="Mot de passe">
        </div>

        <div class="form-group">
            <label for="confirm_password">Confirmer mot de passe</label>
            <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirmez le mot de passe">
        </div>

        <button type="submit" class="btn">S'inscrire et rejoindre le groupe</button>
    </form>

    <div class="footer">
        DÃ©jÃ  inscrit ? <a href="{% url 'accounts:login' %}">Connexion</a><br>
        &copy; 2025 YaayESS. Tous droits rÃ©servÃ©s.
    </div>
</div>
{% endblock %}

{% block extra_style %}
<style>
    .container { max-width: 400px; margin: 50px auto; background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    h2 { text-align: center; color: #333; margin-bottom: 20px; }
    .form-group { margin-bottom: 15px; }
    label { display: block; font-weight: bold; margin-bottom: 5px; }
    input[type="text"], input[type="password"], input[type="tel"] { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
    .btn { width: 100%; padding: 10px; background: #007bff; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
    .btn:hover { background: #0056b3; }
    .messages { margin-bottom: 15px; }
    .messages .error { color: #b00020; margin-bottom: 5px; }
    .messages .success { color: #007b00; margin-bottom: 5px; }
    .info { color: #0056b3; margin-bottom: 5px; }
    .group-info { text-align: center; margin-bottom: 20px; color: #555; font-size: 14px; }
    .footer { text-align: center; margin-top: 20px; font-size: 12px; color: #999; }
    .footer a { color: #007bff; text-decoration: none; }
    .footer a:hover { text-decoration: underline; }
</style>
{% endblock %}
